"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[9033],{39033:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var s=n(9950),i=n(87946),o=n.n(i),r=n(98341),c=n(28429),a=n(89132),l=n(70444),d=n(48965),u=n(26843),x=n(93598),b=n(49078),m=n(47304),h=n(99491),p=n(55604),j=n(30272),f=n(44414);const S=(0,p.A)(s.lazy(()=>n.e(8399).then(n.bind(n,98399)))),_=(0,p.A)(s.lazy(()=>n.e(1869).then(n.bind(n,81869)))),k=()=>{const e=(0,h.jL)(),t=(0,c.g)(),n=(0,r.d4)(m.Nx),[i,p]=(0,s.useState)(!1),[k,E]=(0,s.useState)(!0),[v,O]=(0,s.useState)([]),[A,I]=(0,s.useState)(!1),[T,N]=(0,s.useState)(null),C=t.bucketName||"",g=(0,u._)(C,[x.OV.S3_GET_BUCKET_NOTIFICATIONS,x.OV.S3_GET_ACTIONS]);(0,s.useEffect)(()=>{n&&E(!0)},[n,E]),(0,s.useEffect)(()=>{e((0,b.ph)("bucket_detail_events"))},[]),(0,s.useEffect)(()=>{k&&(g?l.F.buckets.listBucketEvents(C).then(e=>{const t=o()(e.data,"events",[]);E(!1),O(t||[])}).catch(t=>{E(!1),e((0,b.C9)((0,d.S)(t.error)))}):E(!1))},[k,e,C,g]);const F=[{type:"delete",onClick:e=>{I(!0),N(e)}}];return(0,f.jsxs)(s.Fragment,{children:[A&&(0,f.jsx)(S,{deleteOpen:A,selectedBucket:C,bucketEvent:T,closeDeleteModalAndRefresh:e=>{I(!1),e&&E(!0)}}),i&&(0,f.jsx)(_,{open:i,selectedBucket:C,closeModalAndRefresh:()=>{p(!1),E(!0)}}),(0,f.jsx)(a._xt,{separator:!0,sx:{marginBottom:15},actions:(0,f.jsx)(u.R,{scopes:[x.OV.S3_PUT_BUCKET_NOTIFICATIONS,x.OV.S3_PUT_ACTIONS,x.OV.ADMIN_SERVER_INFO],resource:C,matchAll:!0,errorProps:{disabled:!0},children:(0,f.jsx)(j.A,{tooltip:"Subscribe to Event",children:(0,f.jsx)(a.$nd,{id:"Subscribe-bucket-event",onClick:()=>{p(!0)},label:"Subscribe to Event",icon:(0,f.jsx)(a.REV,{}),variant:"callAction"})})}),children:(0,f.jsx)(a.V7x,{content:(0,f.jsxs)(s.Fragment,{children:["MinIO"," ",(0,f.jsx)("a",{target:"blank",href:"https://min.io/docs/minio/kubernetes/upstream/administration/monitoring.html",children:"bucket notifications"})," ","allow administrators to send notifications to supported external services on certain object or bucket events."]}),placement:"right",children:"Events"})}),(0,f.jsxs)(a.xA9,{container:!0,children:[(0,f.jsx)(a.xA9,{item:!0,xs:12,children:(0,f.jsx)(u.R,{scopes:[x.OV.S3_GET_BUCKET_NOTIFICATIONS,x.OV.S3_GET_ACTIONS],resource:C,errorProps:{disabled:!0},children:(0,f.jsx)(a.bQt,{itemActions:F,columns:[{label:"SQS",elementKey:"arn"},{label:"Events",elementKey:"events",renderFunction:e=>{if(!e)return"other";const t=e.reduce((e,t)=>e.includes(t)?e:[...e,t],[]);return(0,f.jsx)(s.Fragment,{children:t.join(", ")})}},{label:"Prefix",elementKey:"prefix"},{label:"Suffix",elementKey:"suffix"}],isLoading:k,records:v,entityName:"Events",idField:"id",customPaperHeight:"400px"})})}),!k&&(0,f.jsxs)(a.xA9,{item:!0,xs:12,children:[(0,f.jsx)("br",{}),(0,f.jsx)(a.lVp,{title:"Event Notifications",iconComponent:(0,f.jsx)(a.PI5,{}),help:(0,f.jsxs)(s.Fragment,{children:["MinIO bucket notifications allow administrators to send notifications to supported external services on certain object or bucket events. MinIO supports bucket and object-level S3 events similar to the Amazon S3 Event Notifications.",(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),"You can learn more at our"," ",(0,f.jsx)("a",{href:"https://min.io/docs/minio/linux/administration/monitoring/bucket-notifications.html",target:"_blank",rel:"noopener",children:"documentation"}),"."]})})]})]})]})}}}]);