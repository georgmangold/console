"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[5809],{5809:(e,t,l)=>{l.r(t),l.d(t,{default:()=>v});var s=l(65043),a=l(33097),n=l.n(a),c=l(89923),o=l(99161),r=l(77938),d=l(64159),i=l(21383),u=l(25448),p=l(72237),x=l(70579);const T=(0,p.A)(s.lazy(()=>l.e(1303).then(l.bind(l,1303)))),h=(0,p.A)(s.lazy(()=>l.e(5079).then(l.bind(l,55079)))),v=e=>{let{bucketName:t}=e;const l=(0,i.jL)(),[a,p]=(0,s.useState)(null),[v,_]=(0,s.useState)(!1),[A,S]=(0,s.useState)([]),[b,j]=(0,s.useState)(["",""]),[O,C]=(0,s.useState)(!1),[g,k]=(0,u.A)(e=>{if(e&&null!=(null===e||void 0===e?void 0:e.details)){var t,l;if(e.details.tags)return p(null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.tags),void S(Object.keys(null===e||void 0===e||null===(l=e.details)||void 0===l?void 0:l.tags));p([]),S([])}},e=>{l((0,d.C9)(e))}),G=()=>{k("GET","/api/v1/buckets/".concat(t))};return(0,s.useEffect)(()=>{G()},[t]),(0,x.jsxs)(c.azJ,{children:[g?(0,x.jsx)(c.aHM,{style:{width:16,height:16}}):null,(0,x.jsx)(r.R,{scopes:[o.OV.S3_GET_BUCKET_TAGGING,o.OV.S3_GET_ACTIONS],resource:t,children:(0,x.jsx)(c.azJ,{sx:{display:"flex",flexFlow:"column",marginTop:5},children:(0,x.jsxs)(c.azJ,{sx:{display:"flex",gap:8,flexWrap:"wrap"},children:[A&&A.map((e,l)=>{const s=n()(a,"".concat(e),"");return""!==s?(0,x.jsx)(r.R,{scopes:[o.OV.S3_PUT_BUCKET_TAGGING,o.OV.S3_PUT_ACTIONS],resource:t,matchAll:!0,errorProps:{deleteIcon:null,onDelete:null},children:(0,x.jsx)(c.vwO,{label:"".concat(e," : ").concat(s),id:"tag-".concat(e,"-").concat(s),onDelete:()=>{((e,t)=>{j([e,t]),C(!0)})(e,s)}})},"chip-".concat(l)):null}),(0,x.jsx)(r.R,{scopes:[o.OV.S3_PUT_BUCKET_TAGGING,o.OV.S3_PUT_ACTIONS],resource:t,errorProps:{disabled:!0,onClick:null},children:(0,x.jsx)(c.vwO,{label:"Add tag",icon:(0,x.jsx)(c.REV,{}),id:"create-tag",variant:"outlined",onClick:()=>{_(!0)},sx:{cursor:"pointer",maxWidth:90}})})]})})}),v&&(0,x.jsx)(T,{modalOpen:v,currentTags:a,bucketName:t,onCloseAndUpdate:e=>{_(!1),e&&G()}}),O&&(0,x.jsx)(h,{deleteOpen:O,currentTags:a,bucketName:t,onCloseAndUpdate:e=>{C(!1),e&&G()},selectedTag:b})]})}},25448:(e,t,l)=>{l.d(t,{A:()=>n});var s=l(65043),a=l(20649);const n=(e,t)=>{const[l,n]=(0,s.useState)(!1);return[l,(l,s,c,o)=>{n(!0),a.A.invoke(l,s,c,o).then(t=>{n(!1),e(t)}).catch(e=>{n(!1),t(e)})}]}}}]);
//# sourceMappingURL=5809.93ab2558.chunk.js.map