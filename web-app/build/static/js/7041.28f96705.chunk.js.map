{"version":3,"file":"static/js/7041.28f96705.chunk.js","mappings":"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","sources":["screens/Console/IDP/AddIDPConfiguration.tsx","screens/Console/IDP/AddIDPOpenIDConfiguration.tsx","screens/Console/IDP/AddIDPConfigurationHelpbox.tsx","screens/Console/IDP/utils.tsx"],"sourcesContent":["// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useEffect, useState } from \"react\";\nimport {\n  BackLink,\n  Button,\n  FormLayout,\n  Grid,\n  InputBox,\n  PageLayout,\n  SectionTitle,\n  Switch,\n} from \"mds\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useAppDispatch } from \"../../../store\";\nimport { modalStyleUtils } from \"../Common/FormComponents/common/styleLibrary\";\nimport {\n  setErrorSnackMessage,\n  setHelpName,\n  setServerNeedsRestart,\n} from \"../../../systemSlice\";\nimport PageHeaderWrapper from \"../Common/PageHeaderWrapper/PageHeaderWrapper\";\nimport HelpMenu from \"../HelpMenu\";\nimport { api } from \"api\";\nimport { ApiError, HttpResponse, SetIDPResponse } from \"api/consoleApi\";\nimport { errorToHandler } from \"api/errors\";\n\ntype AddIDPConfigurationProps = {\n  classes?: any;\n  icon: React.ReactNode;\n  helpBox: React.ReactNode;\n  header: string;\n  title: string;\n  backLink: string;\n  formFields: object;\n};\n\nconst AddIDPConfiguration = ({\n  icon,\n  helpBox,\n  header,\n  backLink,\n  title,\n  formFields,\n}: AddIDPConfigurationProps) => {\n  const extraFormFields = {\n    name: {\n      required: true,\n      hasError: (s: string, editMode: boolean) => {\n        return !s && editMode ? \"Config Name is required\" : \"\";\n      },\n      label: \"Name\",\n      tooltip: \"Name for identity provider configuration\",\n      placeholder: \"Name\",\n      type: \"text\",\n    },\n    ...formFields,\n  };\n\n  const navigate = useNavigate();\n  const dispatch = useAppDispatch();\n\n  const [fields, setFields] = useState<any>({});\n  const [loadingCreate, setLoadingCreate] = useState<boolean>(false);\n\n  const validSave = () => {\n    for (const [key, value] of Object.entries(extraFormFields)) {\n      if (\n        value.required &&\n        !(\n          fields[key] !== undefined &&\n          fields[key] !== null &&\n          fields[key] !== \"\"\n        )\n      ) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  const resetForm = () => {\n    setFields({});\n  };\n\n  const addRecord = (event: React.FormEvent) => {\n    setLoadingCreate(true);\n    event.preventDefault();\n    const name = fields[\"name\"];\n    let input = \"\";\n    for (const key of Object.keys(formFields)) {\n      if (fields[key]) {\n        input += `${key}=${fields[key]} `;\n      }\n    }\n\n    api.idp\n      .createConfiguration(\"openid\", { name, input })\n      .then((res: HttpResponse<SetIDPResponse, ApiError>) => {\n        navigate(backLink);\n        dispatch(setServerNeedsRestart(res.data.restart === true));\n      })\n      .catch((res: HttpResponse<SetIDPResponse, ApiError>) => {\n        dispatch(setErrorSnackMessage(errorToHandler(res.error)));\n      })\n      .finally(() => setLoadingCreate(false));\n  };\n\n  const renderFormField = (key: string, value: any) => {\n    switch (value.type) {\n      case \"toggle\":\n        return (\n          <Switch\n            indicatorLabels={[\"Enabled\", \"Disabled\"]}\n            checked={fields[key] === \"on\" ? true : false}\n            value={\"is-field-enabled\"}\n            id={\"is-field-enabled\"}\n            name={\"is-field-enabled\"}\n            label={value.label}\n            tooltip={value.tooltip}\n            onChange={(e) =>\n              setFields({ ...fields, [key]: e.target.checked ? \"on\" : \"off\" })\n            }\n            description=\"\"\n          />\n        );\n      default:\n        return (\n          <InputBox\n            id={key}\n            required={value.required}\n            name={key}\n            label={value.label}\n            tooltip={value.tooltip}\n            error={value.hasError(fields[key], true)}\n            value={fields[key] ? fields[key] : \"\"}\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n              setFields({ ...fields, [key]: e.target.value })\n            }\n            placeholder={value.placeholder}\n            type={value.type}\n          />\n        );\n    }\n  };\n\n  useEffect(() => {\n    dispatch(setHelpName(\"add_idp_config\"));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <Grid item xs={12}>\n      <PageHeaderWrapper\n        label={<BackLink onClick={() => navigate(backLink)} label={header} />}\n        actions={<HelpMenu />}\n      />\n      <PageLayout>\n        <FormLayout helpBox={helpBox}>\n          <SectionTitle icon={icon}>{title}</SectionTitle>\n          <form\n            noValidate\n            autoComplete=\"off\"\n            onSubmit={(e: React.FormEvent<HTMLFormElement>) => {\n              addRecord(e);\n            }}\n          >\n            <Grid container>\n              <Grid xs={12} item>\n                {Object.entries(extraFormFields).map(([key, value]) =>\n                  renderFormField(key, value),\n                )}\n                <Grid item xs={12} sx={modalStyleUtils.modalButtonBar}>\n                  <Button\n                    id={\"clear\"}\n                    type=\"button\"\n                    variant=\"regular\"\n                    onClick={resetForm}\n                    label={\"Clear\"}\n                  />\n\n                  <Button\n                    id={\"save-key\"}\n                    type=\"submit\"\n                    variant=\"callAction\"\n                    color=\"primary\"\n                    disabled={loadingCreate || !validSave()}\n                    label={\"Save\"}\n                  />\n                </Grid>\n              </Grid>\n            </Grid>\n          </form>\n        </FormLayout>\n      </PageLayout>\n    </Grid>\n  );\n};\n\nexport default AddIDPConfiguration;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from \"react\";\nimport { IAM_PAGES } from \"../../../common/SecureComponent/permissions\";\nimport { LockIcon } from \"mds\";\nimport AddIDPConfiguration from \"./AddIDPConfiguration\";\nimport { openIDFormFields, openIDHelpBoxContents } from \"./utils\";\nimport AddIDPConfigurationHelpBox from \"./AddIDPConfigurationHelpbox\";\n\nconst AddIDPOpenIDConfiguration = () => {\n  return (\n    <AddIDPConfiguration\n      icon={<LockIcon />}\n      helpBox={\n        <AddIDPConfigurationHelpBox\n          helpText={\"Learn more about OpenID Connect Configurations\"}\n          contents={openIDHelpBoxContents}\n          docLink={\n            \"https://min.io/docs/minio/linux/operations/external-iam.html?ref=con#minio-external-iam-oidc\"\n          }\n          docText={\"Learn more about OpenID Connect Configurations\"}\n        />\n      }\n      header={\"OpenID Configurations\"}\n      backLink={IAM_PAGES.IDP_OPENID_CONFIGURATIONS}\n      title={\"Create OpenID Configuration\"}\n      formFields={openIDFormFields}\n    />\n  );\n};\n\nexport default AddIDPOpenIDConfiguration;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2023 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment } from \"react\";\nimport { HelpIconFilled, Box } from \"mds\";\n\ninterface IContent {\n  icon: React.ReactNode;\n  text: string;\n  iconDescription: string;\n}\n\ninterface IAddIDPConfigurationHelpBoxProps {\n  helpText: string;\n  docLink: string;\n  docText: string;\n  contents: IContent[];\n}\n\nconst FeatureItem = ({\n  icon,\n  description,\n}: {\n  icon: any;\n  description: string;\n}) => {\n  return (\n    <Box\n      sx={{\n        display: \"flex\",\n        \"& .min-icon\": {\n          marginRight: \"10px\",\n          height: \"23px\",\n          width: \"23px\",\n          marginBottom: \"10px\",\n        },\n      }}\n    >\n      {icon}{\" \"}\n      <div style={{ fontSize: \"14px\", fontStyle: \"italic\", color: \"#5E5E5E\" }}>\n        {description}\n      </div>\n    </Box>\n  );\n};\n\nconst AddIDPConfigurationHelpBox = ({\n  helpText,\n  docLink,\n  docText,\n  contents,\n}: IAddIDPConfigurationHelpBoxProps) => {\n  return (\n    <Box\n      sx={{\n        flex: 1,\n        border: \"1px solid #eaeaea\",\n        borderRadius: \"2px\",\n        display: \"flex\",\n        flexFlow: \"column\",\n        padding: \"20px\",\n      }}\n    >\n      <Box\n        sx={{\n          fontSize: \"16px\",\n          fontWeight: 600,\n          display: \"flex\",\n          alignItems: \"center\",\n          marginBottom: \"16px\",\n          paddingBottom: \"20px\",\n\n          \"& .min-icon\": {\n            height: \"21px\",\n            width: \"21px\",\n            marginRight: \"15px\",\n          },\n        }}\n      >\n        <HelpIconFilled />\n        <div>{helpText}</div>\n      </Box>\n      <Box sx={{ fontSize: \"14px\", marginBottom: \"15px\" }}>\n        {contents.map((content, index) => (\n          <Fragment key={`feature-item-${index}`}>\n            {content.icon && (\n              <Box sx={{ paddingBottom: \"20px\" }}>\n                <FeatureItem\n                  icon={content.icon}\n                  description={content.iconDescription}\n                />\n              </Box>\n            )}\n            <Box sx={{ paddingBottom: \"20px\" }}>{content.text}</Box>\n          </Fragment>\n        ))}\n        <Box sx={{ paddingBottom: \"20px\" }}>\n          <a href={docLink} target=\"_blank\" rel=\"noopener\">\n            {docText}\n          </a>\n        </Box>\n      </Box>\n    </Box>\n  );\n};\n\nexport default AddIDPConfigurationHelpBox;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { LockIcon, LoginIcon } from \"mds\";\n\nexport const ldapHelpBoxContents = [\n  {\n    text: \"MinIO supports using an Active Directory or LDAP (AD/LDAP) service for external management of user identities. Configuring an external IDentity Provider (IDP) enables Single-Sign On (SSO) workflows, where applications authenticate against the external IDP before accessing MinIO.\",\n    icon: <LoginIcon />,\n    iconDescription: \"Create Configurations\",\n  },\n  {\n    text: \"MinIO queries the configured Active Directory / LDAP server to verify the credentials specified by the application and optionally return a list of groups in which the user has membership. MinIO supports two modes (Lookup-Bind Mode and Username-Bind Mode) for performing these queries\",\n    icon: null,\n    iconDescription: \"\",\n  },\n  {\n    text: \"MinIO recommends using Lookup-Bind mode as the preferred method for verifying AD/LDAP credentials. Username-Bind mode is a legacy method retained for backwards compatibility only.\",\n    icon: null,\n    iconDescription: \"\",\n  },\n];\n\nexport const openIDHelpBoxContents = [\n  {\n    text: \"MinIO supports using an OpenID Connect (OIDC) compatible IDentity Provider (IDP) such as Okta, KeyCloak, Dex, Google, or Facebook for external management of user identities.\",\n    icon: <LockIcon />,\n    iconDescription: \"Create Configurations\",\n  },\n  {\n    text: \"Configuring an external IDP enables Single-Sign On workflows, where applications authenticate against the external IDP before accessing MinIO.\",\n    icon: null,\n    iconDescription: \"\",\n  },\n];\n\nexport const openIDFormFields = {\n  config_url: {\n    required: true,\n    hasError: (s: string, editMode: boolean) => {\n      return !s && editMode ? \"Config URL is required\" : \"\";\n    },\n    label: \"Config URL\",\n    tooltip: \"Config URL for identity provider configuration\",\n    placeholder:\n      \"https://identity-provider-url/.well-known/openid-configuration\",\n    type: \"text\",\n    editOnly: false,\n  },\n  client_id: {\n    required: true,\n    hasError: (s: string, editMode: boolean) => {\n      return !s && editMode ? \"Client ID is required\" : \"\";\n    },\n    label: \"Client ID\",\n    tooltip: \"Identity provider Client ID\",\n    placeholder: \"Enter Client ID\",\n    type: \"text\",\n    editOnly: false,\n  },\n  client_secret: {\n    required: true,\n    hasError: (s: string, editMode: boolean) => {\n      return !s && editMode ? \"Client Secret is required\" : \"\";\n    },\n    label: \"Client Secret\",\n    tooltip: \"Identity provider Client Secret\",\n    placeholder: \"Enter Client Secret\",\n    type: \"password\",\n    editOnly: true,\n  },\n  claim_name: {\n    required: false,\n    label: \"Claim Name\",\n    tooltip: \"Claim from which MinIO will read the policy or role to use\",\n    placeholder: \"Enter Claim Name\",\n    type: \"text\",\n    hasError: (s: string, editMode: boolean) => \"\",\n    editOnly: false,\n  },\n  display_name: {\n    required: false,\n    label: \"Display Name\",\n    tooltip: \"\",\n    placeholder: \"Enter Display Name\",\n    type: \"text\",\n    hasError: (s: string, editMode: boolean) => \"\",\n    editOnly: false,\n  },\n  claim_prefix: {\n    required: false,\n    label: \"Claim Prefix\",\n    tooltip: \"\",\n    placeholder: \"Enter Claim Prefix\",\n    type: \"text\",\n    hasError: (s: string, editMode: boolean) => \"\",\n    editOnly: false,\n  },\n  scopes: {\n    required: false,\n    label: \"Scopes\",\n    tooltip: \"\",\n    placeholder: \"openid,profile,email\",\n    type: \"text\",\n    hasError: (s: string, editMode: boolean) => \"\",\n    editOnly: false,\n  },\n  redirect_uri: {\n    required: false,\n    label: \"Redirect URI\",\n    tooltip: \"\",\n    placeholder: \"https://console-endpoint-url/oauth_callback\",\n    type: \"text\",\n    hasError: (s: string, editMode: boolean) => \"\",\n    editOnly: false,\n  },\n  role_policy: {\n    required: false,\n    label: \"Role Policy\",\n    tooltip: \"\",\n    placeholder: \"readonly\",\n    type: \"text\",\n    hasError: (s: string, editMode: boolean) => \"\",\n    editOnly: false,\n  },\n  claim_userinfo: {\n    required: false,\n    label: \"Claim User Info\",\n    tooltip: \"\",\n    placeholder: \"Claim User Info\",\n    type: \"toggle\",\n    hasError: (s: string, editMode: boolean) => \"\",\n    editOnly: false,\n  },\n  redirect_uri_dynamic: {\n    required: false,\n    label: \"Redirect URI Dynamic\",\n    tooltip: \"\",\n    placeholder: \"Redirect URI Dynamic\",\n    type: \"toggle\",\n    hasError: (s: string, editMode: boolean) => \"\",\n    editOnly: false,\n  },\n};\n\nexport const ldapFormFields = {\n  server_insecure: {\n    required: true,\n    hasError: (s: string, editMode: boolean) => {\n      return !s && editMode ? \"Server Address is required\" : \"\";\n    },\n    label: \"Server Insecure\",\n    tooltip: \"Disable SSL certificate verification \",\n    placeholder: \"myldapserver.com:636\",\n    type: \"toggle\",\n    editOnly: false,\n  },\n  server_addr: {\n    required: true,\n    hasError: (s: string, editMode: boolean) => {\n      return !s && editMode ? \"Server Address is required\" : \"\";\n    },\n    label: \"Server Address\",\n    tooltip: 'AD/LDAP server address e.g. \"myldapserver.com:636\"',\n    placeholder: \"myldapserver.com:636\",\n    type: \"text\",\n    editOnly: false,\n  },\n  lookup_bind_dn: {\n    required: true,\n    hasError: (s: string, editMode: boolean) => {\n      return !s && editMode ? \"Lookup Bind DN is required\" : \"\";\n    },\n    label: \"Lookup Bind DN\",\n    tooltip:\n      \"DN (Distinguished Name) for LDAP read-only service account used to perform DN and group lookups\",\n    placeholder: \"cn=admin,dc=min,dc=io\",\n    type: \"text\",\n    editOnly: false,\n  },\n  lookup_bind_password: {\n    required: true,\n    hasError: (s: string, editMode: boolean) => {\n      return !s && editMode ? \"Lookup Bind Password is required\" : \"\";\n    },\n    label: \"Lookup Bind Password\",\n    tooltip:\n      \"Password for LDAP read-only service account used to perform DN and group lookups\",\n    placeholder: \"admin\",\n    type: \"password\",\n    editOnly: true,\n  },\n  user_dn_search_base_dn: {\n    required: true,\n    hasError: (s: string, editMode: boolean) => {\n      return !s && editMode ? \"User DN Search Base DN is required\" : \"\";\n    },\n    label: \"User DN Search Base\",\n    tooltip: \"\",\n    placeholder: \"DC=example,DC=net\",\n    type: \"text\",\n    editOnly: false,\n  },\n  user_dn_search_filter: {\n    required: true,\n    hasError: (s: string, editMode: boolean) => {\n      return !s && editMode ? \"User DN Search Filter is required\" : \"\";\n    },\n    label: \"User DN Search Filter\",\n    tooltip: \"\",\n    placeholder: \"(sAMAccountName=%s)\",\n    type: \"text\",\n    editOnly: false,\n  },\n  group_search_base_dn: {\n    required: false,\n    hasError: (s: string, editMode: boolean) => \"\",\n    label: \"Group Search Base DN\",\n    tooltip: \"\",\n    placeholder: \"ou=swengg,dc=min,dc=io\",\n    type: \"text\",\n    editOnly: false,\n  },\n  group_search_filter: {\n    required: false,\n    hasError: (s: string, editMode: boolean) => \"\",\n    label: \"Group Search Filter\",\n    tooltip: \"\",\n    placeholder: \"(&(objectclass=groupofnames)(member=%d))\",\n    type: \"text\",\n    editOnly: false,\n  },\n};\n"],"names":["_ref","icon","helpBox","header","backLink","title","formFields","extraFormFields","_objectSpread","name","required","hasError","s","editMode","label","tooltip","placeholder","type","navigate","useNavigate","dispatch","useAppDispatch","fields","setFields","useState","loadingCreate","setLoadingCreate","useEffect","setHelpName","_jsxs","Grid","item","xs","children","_jsx","PageHeaderWrapper","BackLink","onClick","actions","HelpMenu","PageLayout","FormLayout","SectionTitle","noValidate","autoComplete","onSubmit","e","event","preventDefault","input","key","Object","keys","concat","api","idp","createConfiguration","then","res","setServerNeedsRestart","data","restart","catch","setErrorSnackMessage","errorToHandler","error","finally","addRecord","container","entries","map","_ref2","value","renderFormField","Switch","indicatorLabels","checked","id","onChange","target","description","InputBox","sx","modalStyleUtils","modalButtonBar","Button","variant","resetForm","color","disabled","validSave","undefined","AddIDPOpenIDConfiguration","AddIDPConfiguration","LockIcon","AddIDPConfigurationHelpBox","helpText","contents","openIDHelpBoxContents","docLink","docText","IAM_PAGES","IDP_OPENID_CONFIGURATIONS","openIDFormFields","FeatureItem","Box","display","marginRight","height","width","marginBottom","style","fontSize","fontStyle","flex","border","borderRadius","flexFlow","padding","fontWeight","alignItems","paddingBottom","HelpIconFilled","content","index","Fragment","iconDescription","text","href","rel","ldapHelpBoxContents","LoginIcon","config_url","editOnly","client_id","client_secret","claim_name","display_name","claim_prefix","scopes","redirect_uri","role_policy","claim_userinfo","redirect_uri_dynamic","ldapFormFields","server_insecure","server_addr","lookup_bind_dn","lookup_bind_password","user_dn_search_base_dn","user_dn_search_filter","group_search_base_dn","group_search_filter"],"sourceRoot":""}